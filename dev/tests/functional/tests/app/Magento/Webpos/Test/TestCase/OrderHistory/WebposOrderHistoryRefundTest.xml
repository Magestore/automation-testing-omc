<?xml version="1.0" encoding="utf-8"?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../../../../../vendor/magento/mtf/etc/variations.xsd">
	<testCase name="Magento\Webpos\Test\TestCase\OrderHistory\WebposOrderHistoryRefundTest" summary="Order History - Refund Test" ticketId="WEBPOS-1">
		<variation name="WebposOrderHistoryRefundTestVariation1">
			<data name="staff/data/username" xsi:type="string">magentoadmin</data>
			<data name="staff/data/password" xsi:type="string">admin123</data>
			<data name="products" xsi:type="array">
				<item name="0" xsi:type="array">
					<item name="name" xsi:type="string">Joust Duffle Bag</item>
					<item name="qty" xsi:type="number">1</item>
				</item>
				<item name="1" xsi:type="array">
					<item name="name" xsi:type="string">Strive Shoulder Pack</item>
					<item name="qty" xsi:type="number">1</item>
				</item>
			</data>
			<data name="paidAmount" xsi:type="number">0</data>
			<data name="shipped" xsi:type="boolean">false</data>
			<data name="paid" xsi:type="boolean">false</data>
			<data name="action" xsi:type="string">cancel</data>

			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertRefundPopupClosed" />
		</variation>

		<variation name="WebposOrderHistoryRefundTestVariation2">
			<data name="staff/data/username" xsi:type="string">magentoadmin</data>
			<data name="staff/data/password" xsi:type="string">admin123</data>
			<data name="products" xsi:type="array">
				<item name="0" xsi:type="array">
					<item name="name" xsi:type="string">Joust Duffle Bag</item>
					<item name="qty" xsi:type="number">1</item>
				</item>
				<item name="1" xsi:type="array">
					<item name="name" xsi:type="string">Strive Shoulder Pack</item>
					<item name="qty" xsi:type="number">1</item>
				</item>
			</data>
			<data name="paidAmount" xsi:type="number">0</data>
			<data name="shipped" xsi:type="boolean">false</data>
			<data name="paid" xsi:type="boolean">false</data>
			<data name="action" xsi:type="string">submit</data>
			<data name="confirmAction" xsi:type="string">cancel</data>

			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertRefundConfirmPopupClosed" />
		</variation>

		<variation name="WebposOrderHistoryRefundTestVariation3">
			<data name="staff/data/username" xsi:type="string">magentoadmin</data>
			<data name="staff/data/password" xsi:type="string">admin123</data>
			<data name="products" xsi:type="array">
				<item name="0" xsi:type="array">
					<item name="name" xsi:type="string">Joust Duffle Bag</item>
					<item name="qty" xsi:type="number">1</item>
				</item>
				<item name="1" xsi:type="array">
					<item name="name" xsi:type="string">Strive Shoulder Pack</item>
					<item name="qty" xsi:type="number">1</item>
				</item>
			</data>
			<data name="paidAmount" xsi:type="number">0</data>
			<data name="shipped" xsi:type="boolean">false</data>
			<data name="paid" xsi:type="boolean">false</data>
			<data name="action" xsi:type="string">submit</data>
			<data name="confirmAction" xsi:type="string">close</data>

			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertRefundConfirmPopupClosed" />
		</variation>

		<variation name="WebposOrderHistoryRefundTestVariation4">
			<data name="staff/data/username" xsi:type="string">magentoadmin</data>
			<data name="staff/data/password" xsi:type="string">admin123</data>
			<data name="products" xsi:type="array">
				<item name="0" xsi:type="array">
					<item name="name" xsi:type="string">Joust Duffle Bag</item>
					<item name="qty" xsi:type="number">1</item>
				</item>
				<item name="1" xsi:type="array">
					<item name="name" xsi:type="string">Strive Shoulder Pack</item>
					<item name="qty" xsi:type="number">1</item>
				</item>
			</data>
			<data name="paidAmount" xsi:type="number">0</data>
			<data name="shipped" xsi:type="boolean">false</data>
			<data name="paid" xsi:type="boolean">false</data>
			<data name="sendEmail" xsi:type="boolean">true</data>
			<data name="action" xsi:type="string">submit</data>
			<data name="confirmAction" xsi:type="string">ok</data>
			<data name="expectStatus" xsi:type="string">Closed</data>
			<data name="hideAction" xsi:type="string">Ship,Refund,Cancel</data>

			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertRefundSuccess" />
		</variation>

		<variation name="WebposOrderHistoryRefundTestVariation5">
			<data name="staff/data/username" xsi:type="string">magentoadmin</data>
			<data name="staff/data/password" xsi:type="string">admin123</data>
			<data name="products" xsi:type="array">
				<item name="0" xsi:type="array">
					<item name="name" xsi:type="string">Joust Duffle Bag</item>
					<item name="qty" xsi:type="number">1</item>
					<item name="refund_qty" xsi:type="number">1</item>
				</item>
				<item name="1" xsi:type="array">
					<item name="name" xsi:type="string">Strive Shoulder Pack</item>
					<item name="qty" xsi:type="number">1</item>
					<item name="refund_qty" xsi:type="number">0</item>
				</item>
			</data>
			<data name="paidAmount" xsi:type="number">0</data>
			<data name="shipped" xsi:type="boolean">false</data>
			<data name="paid" xsi:type="boolean">false</data>
			<data name="sendEmail" xsi:type="boolean">true</data>
			<data name="action" xsi:type="string">submit</data>
			<data name="confirmAction" xsi:type="string">ok</data>
			<data name="expectStatus" xsi:type="string">Processing</data>
			<data name="hideAction" xsi:type="string">Cancel</data>
			<data name="totalRefunded" xsi:type="number">34</data>

			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertRefundSuccess" />
			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertAllowToRefundExtandItems" />
		</variation>

		<variation name="WebposOrderHistoryRefundTestVariation6">
			<data name="staff/data/username" xsi:type="string">magentoadmin</data>
			<data name="staff/data/password" xsi:type="string">admin123</data>
			<data name="products" xsi:type="array">
				<item name="0" xsi:type="array">
					<item name="name" xsi:type="string">Joust Duffle Bag</item>
					<item name="qty" xsi:type="number">1</item>
					<item name="refund_qty" xsi:type="number">1</item>
				</item>
				<item name="1" xsi:type="array">
					<item name="name" xsi:type="string">Strive Shoulder Pack</item>
					<item name="qty" xsi:type="number">1</item>
					<item name="refund_qty" xsi:type="number">0</item>
				</item>
			</data>
			<data name="paidAmount" xsi:type="number">0</data>
			<data name="shipped" xsi:type="boolean">false</data>
			<data name="paid" xsi:type="boolean">false</data>
			<data name="sendEmail" xsi:type="boolean">true</data>
			<data name="action" xsi:type="string">submit</data>
			<data name="confirmAction" xsi:type="string">ok</data>
			<data name="expectStatus" xsi:type="string">Processing</data>
			<data name="hideAction" xsi:type="string">Cancel</data>
			<data name="totalRefunded" xsi:type="number">34</data>

			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertRefundSuccess" />
			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertAllowToRefundExtandItems" />
			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertRefundExtandItems" />
		</variation>

		<variation name="WebposOrderHistoryRefundTestVariation7">
			<data name="staff/data/username" xsi:type="string">magentoadmin</data>
			<data name="staff/data/password" xsi:type="string">admin123</data>
			<data name="products" xsi:type="array">
				<item name="0" xsi:type="array">
					<item name="name" xsi:type="string">Joust Duffle Bag</item>
					<item name="qty" xsi:type="number">1</item>
					<item name="refund_qty" xsi:type="number">1</item>
					<item name="return_to_stock" xsi:type="boolean">true</item>
				</item>
				<item name="1" xsi:type="array">
					<item name="name" xsi:type="string">Strive Shoulder Pack</item>
					<item name="qty" xsi:type="number">2</item>
					<item name="refund_qty" xsi:type="number">2</item>
					<item name="return_to_stock" xsi:type="boolean">true</item>
				</item>
			</data>
			<data name="paidAmount" xsi:type="number">0</data>
			<data name="shipped" xsi:type="boolean">false</data>
			<data name="paid" xsi:type="boolean">false</data>
			<data name="sendEmail" xsi:type="boolean">true</data>
			<data name="action" xsi:type="string">submit</data>
			<data name="confirmAction" xsi:type="string">ok</data>
			<data name="expectStatus" xsi:type="string">Closed</data>
			<data name="hideAction" xsi:type="string">Ship,Refund,Cancel</data>

			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertRefundSuccess" />
			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertStockQtyUpdated" />
		</variation>

		<variation name="WebposOrderHistoryRefundTestVariation8">
			<data name="staff/data/username" xsi:type="string">magentoadmin</data>
			<data name="staff/data/password" xsi:type="string">admin123</data>
			<data name="products" xsi:type="array">
				<item name="0" xsi:type="array">
					<item name="name" xsi:type="string">Joust Duffle Bag</item>
					<item name="qty" xsi:type="number">1</item>
					<item name="refund_qty" xsi:type="number">0</item>
				</item>
				<item name="1" xsi:type="array">
					<item name="name" xsi:type="string">Strive Shoulder Pack</item>
					<item name="qty" xsi:type="number">1</item>
					<item name="refund_qty" xsi:type="number">0</item>
				</item>
			</data>
			<data name="paidAmount" xsi:type="number">0</data>
			<data name="shipped" xsi:type="boolean">false</data>
			<data name="paid" xsi:type="boolean">false</data>
			<data name="sendEmail" xsi:type="boolean">false</data>
			<data name="action" xsi:type="string">submit</data>
			<data name="confirmAction" xsi:type="string">ok</data>

			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertDataRefundInvalidMessage" />
		</variation>

		<variation name="WebposOrderHistoryRefundTestVariation9">
			<data name="staff/data/username" xsi:type="string">magentoadmin</data>
			<data name="staff/data/password" xsi:type="string">admin123</data>
			<data name="products" xsi:type="array">
				<item name="0" xsi:type="array">
					<item name="name" xsi:type="string">Joust Duffle Bag</item>
					<item name="qty" xsi:type="number">1</item>
				</item>
				<item name="1" xsi:type="array">
					<item name="name" xsi:type="string">Strive Shoulder Pack</item>
					<item name="qty" xsi:type="number">1</item>
				</item>
			</data>
			<data name="paidAmount" xsi:type="number">0</data>
			<data name="shipped" xsi:type="boolean">false</data>
			<data name="paid" xsi:type="boolean">false</data>
			<data name="adjustRefund" xsi:type="number">0</data>
			<data name="adjustFee" xsi:type="number">0</data>
			<data name="sendEmail" xsi:type="boolean">true</data>
			<data name="action" xsi:type="string">submit</data>
			<data name="confirmAction" xsi:type="string">ok</data>
			<data name="expectStatus" xsi:type="string">Closed</data>
			<data name="hideAction" xsi:type="string">Ship,Refund,Cancel</data>

			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertRefundSuccess" />
		</variation>

		<variation name="WebposOrderHistoryRefundTestVariation10">
			<data name="staff/data/username" xsi:type="string">magentoadmin</data>
			<data name="staff/data/password" xsi:type="string">admin123</data>
			<data name="products" xsi:type="array">
				<item name="0" xsi:type="array">
					<item name="name" xsi:type="string">Joust Duffle Bag</item>
					<item name="qty" xsi:type="number">1</item>
				</item>
				<item name="1" xsi:type="array">
					<item name="name" xsi:type="string">Strive Shoulder Pack</item>
					<item name="qty" xsi:type="number">1</item>
				</item>
			</data>
			<data name="paidAmount" xsi:type="number">0</data>
			<data name="shipped" xsi:type="boolean">false</data>
			<data name="paid" xsi:type="boolean">false</data>
			<data name="adjustRefund" xsi:type="number">20</data>
			<data name="adjustFee" xsi:type="number">10</data>
			<data name="sendEmail" xsi:type="boolean">true</data>
			<data name="action" xsi:type="string">submit</data>
			<data name="confirmAction" xsi:type="string">ok</data>

			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertRefundFailedTotalRefundGreaterThanTotalPaid" />
		</variation>

		<variation name="WebposOrderHistoryRefundTestVariation11">
			<data name="staff/data/username" xsi:type="string">magentoadmin</data>
			<data name="staff/data/password" xsi:type="string">admin123</data>
			<data name="products" xsi:type="array">
				<item name="0" xsi:type="array">
					<item name="name" xsi:type="string">Joust Duffle Bag</item>
					<item name="qty" xsi:type="number">1</item>
				</item>
			</data>
			<data name="paidAmount" xsi:type="number">0</data>
			<data name="shipped" xsi:type="boolean">false</data>
			<data name="paid" xsi:type="boolean">false</data>
			<data name="adjustRefund" xsi:type="number">10</data>
			<data name="adjustFee" xsi:type="number">20</data>
			<data name="sendEmail" xsi:type="boolean">true</data>
			<data name="action" xsi:type="string">submit</data>
			<data name="confirmAction" xsi:type="string">ok</data>
			<data name="expectStatus" xsi:type="string">Complete</data>
			<data name="hideAction" xsi:type="string">Ship,Cancel</data>
			<data name="totalRefunded" xsi:type="number">24</data>

			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertRefundSuccess" />
			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertAllowToRefundExtantTotalPaidWithNoItem" />
		</variation>

		<variation name="WebposOrderHistoryRefundTestVariation12">
			<data name="staff/data/username" xsi:type="string">magentoadmin</data>
			<data name="staff/data/password" xsi:type="string">admin123</data>
			<data name="products" xsi:type="array">
				<item name="0" xsi:type="array">
					<item name="name" xsi:type="string">Joust Duffle Bag</item>
					<item name="qty" xsi:type="number">1</item>
					<item name="refund_qty" xsi:type="number">0</item>
				</item>
			</data>
			<data name="paidAmount" xsi:type="number">0</data>
			<data name="shipped" xsi:type="boolean">false</data>
			<data name="paid" xsi:type="boolean">false</data>
			<data name="adjustRefund" xsi:type="number">34</data>
			<data name="sendEmail" xsi:type="boolean">true</data>
			<data name="action" xsi:type="string">submit</data>
			<data name="confirmAction" xsi:type="string">ok</data>
			<data name="expectStatus" xsi:type="string">Processing</data>
			<data name="hideAction" xsi:type="string">Refund,Cancel</data>
			<data name="totalRefunded" xsi:type="number">34</data>

			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertRefundSuccess" />
		</variation>

		<variation name="WebposOrderHistoryRefundTestVariation13">
			<data name="staff/data/username" xsi:type="string">magentoadmin</data>
			<data name="staff/data/password" xsi:type="string">admin123</data>
			<data name="products" xsi:type="array">
				<item name="0" xsi:type="array">
					<item name="name" xsi:type="string">Joust Duffle Bag</item>
					<item name="qty" xsi:type="number">1</item>
				</item>
			</data>
			<data name="addDiscount100" xsi:type="boolean">true</data>
			<data name="shipped" xsi:type="boolean">false</data>
			<data name="paid" xsi:type="boolean">false</data>

			<constraint name="Magento\Webpos\Test\Constraint\OrderHistory\Refund\AssertRefundActionIsHidden" />
		</variation>
	</testCase>
</config>